<div class="container">
  <h1>Angular HttpClient</h1>

  <div class="card">
    <div class="form-control">
      <input type="text"
             placeholder="Name"
             [(ngModel)]="todoTitle">
    </div>
    <button type="button"
            class="btn"
            (click)="addTodo()"
    >Add</button>
    <button type="button"
            class="btn"
            (click)="fetchTodos()"
    >Load</button>
  </div>


   <p *ngIf="error !== ''; else todosList"  class="error">{{error}}</p>
 <ng-template #todosList>
   <div *ngIf="!loading; else loadingBlock">
     <div *ngIf="todos.length; else noTodos">
       <div class="card"
            *ngFor="let todo of todos">
         <p>
        <span [class.completed]="todo.completed">
          {{todo.title | titlecase }}
        </span>
           <span>
          <button type="button"
                  class="btn btn-danger"
                  (click)="deleteTodo(todo.id)"
          >Delete</button>
          <button type="button"
                  class="btn"
                  [disabled]="todo.completed"
                  (click)="completeTodo(todo.id)"
          >Complete</button>
      </span>
         </p>
       </div>
     </div>
     <ng-template #noTodos>
       <p>No todos today!</p>
     </ng-template>

   </div>
   <ng-template #loadingBlock>
     <p>Loading...</p>
   </ng-template>
 </ng-template>


</div>
